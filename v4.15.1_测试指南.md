# v4.15.1 策略差异化测试指南

## 快速测试步骤

### 1. 打开系统
访问：http://localhost:5174/

### 2. 测试激进型策略 🚀
1. 点击 **"激进型"** 快捷筛选按钮
2. 等待 3-5 秒（实时筛选）
3. 观察结果：
   - ✅ 涨幅应该较高（3-7%）
   - ✅ 量比应该较大（2.0-5.0）
   - ✅ 股票应该是强势上涨的

### 3. 测试保守型策略 🛡️
1. 点击 **"保守型"** 快捷筛选按钮
2. 等待 3-5 秒（实时筛选）
3. 观察结果：
   - ✅ 涨幅应该较小或微跌（-2% ~ 1%）
   - ✅ 应该是回调中的优质股
   - ✅ 融资融券资质好

### 4. 测试平衡型策略 ⚖️
1. 点击 **"平衡型"** 快捷筛选按钮
2. 等待 3-5 秒（实时筛选）
3. 观察结果：
   - ✅ 涨幅适中（0-4%）
   - ✅ 综合评分高
   - ✅ 风险收益平衡

### 5. 对比验证
- ✅ 三个策略选出的股票应该**完全不同**
- ✅ 每个策略的股票特征应该符合策略定位
- ✅ 后端日志应该显示不同的策略类型

## 后端日志验证

打开后端控制台，应该看到类似输出：

```
============================================================
🎯 波段交易筛选启动
============================================================
📊 筛选条件:
   • 策略类型: aggressive
   • 涨幅范围: 3.0% ~ 7.0%
   • 量比范围: 2.0 ~ 5.0
   • 市值上限: ≤160亿
   • 返回数量: 最多3只
============================================================

   策略：激进型 - 优先选择涨幅大、量比大的股票
```

## 预期结果示例

### 激进型 🚀
```
股票1: 某科技 (+6.8%, 量比4.2)
股票2: 某新能源 (+5.9%, 量比3.8)
股票3: 某半导体 (+5.2%, 量比3.5)
```

### 保守型 🛡️
```
股票1: 某银行 (-0.5%, 融资余额高)
股票2: 某消费 (+0.3%, 融资净流入)
股票3: 某医药 (+0.8%, 融资融券好)
```

### 平衡型 ⚖️
```
股票1: 某制造 (+2.5%, 综合评分85)
股票2: 某电子 (+3.2%, 综合评分82)
股票3: 某材料 (+1.8%, 综合评分80)
```

## 常见问题

### Q1: 三个策略还是选出相同的股票？
**A**: 刷新浏览器页面（Ctrl+F5），确保使用最新代码。

### Q2: 筛选速度变慢了？
**A**: 这是正常的！从缓存（<1秒）改为实时筛选（3-5秒），但保证了策略差异化。

### Q3: 后端日志没有显示策略类型？
**A**: 检查后端是否正在运行，确认使用的是 `/api/band-trading-realtime` 端点。

## 性能对比

| 指标 | 修复前 | 修复后 |
|------|--------|--------|
| 响应时间 | <1秒 | 3-5秒 |
| 策略差异化 | ❌ 不支持 | ✅ 支持 |
| 数据新鲜度 | 缓存（可能过期） | 实时 |
| 结果准确性 | 低 | 高 |

## 技术验证

### 检查 API 调用
打开浏览器开发者工具（F12）→ Network 标签：

1. 点击激进型，应该看到：
   ```
   GET /api/band-trading-realtime?strategy_type=aggressive&...
   ```

2. 点击保守型，应该看到：
   ```
   GET /api/band-trading-realtime?strategy_type=conservative&...
   ```

3. 点击平衡型，应该看到：
   ```
   GET /api/band-trading-realtime?strategy_type=balanced&...
   ```

## 成功标准

- ✅ 三个策略选出的股票完全不同
- ✅ 激进型股票涨幅最高、量比最大
- ✅ 保守型股票涨幅最小、融资融券好
- ✅ 平衡型股票综合评分最高
- ✅ 后端日志显示正确的策略类型
- ✅ API 调用使用 `/band-trading-realtime` 端点

---

**测试完成后，请反馈结果！** 🎉
